# Move a Little Game - é¡¹ç›®è®¾è®¡æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯

| é¡¹ç›®åç§° | Move a Little Game - å§¿æ€è¯†åˆ«è¿åŠ¨æ¸¸æˆ |
|---------|----------------------------------------|
| ç‰ˆæœ¬å· | v1.0 |
| åˆ›å»ºæ—¥æœŸ | 2025å¹´10æœˆ |
| æœ€åæ›´æ–° | 2025å¹´10æœˆ13æ—¥ |
| æ–‡æ¡£ç±»å‹ | æŠ€æœ¯è®¾è®¡æ–‡æ¡£ |

---

## ğŸ“– ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
2. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
3. [ç³»ç»Ÿè®¾è®¡](#ç³»ç»Ÿè®¾è®¡)
4. [æ ¸å¿ƒåŠŸèƒ½æ¨¡å—](#æ ¸å¿ƒåŠŸèƒ½æ¨¡å—)
5. [ç”¨æˆ·ç•Œé¢è®¾è®¡](#ç”¨æˆ·ç•Œé¢è®¾è®¡)
6. [ç®—æ³•è®¾è®¡](#ç®—æ³•è®¾è®¡)
7. [æ•°æ®æµè®¾è®¡](#æ•°æ®æµè®¾è®¡)
8. [éƒ¨ç½²æ¶æ„](#éƒ¨ç½²æ¶æ„)
9. [å®‰å…¨æ€§è®¾è®¡](#å®‰å…¨æ€§è®¾è®¡)
10. [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
11. [æµ‹è¯•ç­–ç•¥](#æµ‹è¯•ç­–ç•¥)
12. [æœªæ¥æ‰©å±•](#æœªæ¥æ‰©å±•)

---

## 1. é¡¹ç›®æ¦‚è¿° {#é¡¹ç›®æ¦‚è¿°}

### 1.1 é¡¹ç›®èƒŒæ™¯

Move a Little Game æ˜¯ä¸€æ¬¾åŸºäº Web çš„è½»é‡çº§è¿åŠ¨æ¸¸æˆï¼Œåˆ©ç”¨ AI å§¿æ€è¯†åˆ«æŠ€æœ¯å¸®åŠ©ç”¨æˆ·è¿›è¡Œè¿åŠ¨é”»ç‚¼ã€‚ç”¨æˆ·åªéœ€ç«™åœ¨æ‘„åƒå¤´å‰ï¼Œè·Ÿéšå±å¹•ä¸Šçš„åŠ¨ä½œå¡ç‰‡å®Œæˆç›¸åº”å§¿åŠ¿ï¼Œç³»ç»Ÿä¼šå®æ—¶æ£€æµ‹å¹¶ç»™å‡ºåé¦ˆã€‚

### 1.2 é¡¹ç›®ç›®æ ‡

- ğŸ¯ **å¥åº·ä¿ƒè¿›**ï¼šé¼“åŠ±ç”¨æˆ·è¿›è¡Œç®€å•çš„è¿åŠ¨é”»ç‚¼
- ğŸ¤– **AI èµ‹èƒ½**ï¼šåˆ©ç”¨ MediaPipe å§¿æ€è¯†åˆ«æŠ€æœ¯æä¾›å®æ—¶åé¦ˆ
- ğŸŒ **æ˜“äºè®¿é—®**ï¼šçº¯å‰ç«¯å®ç°ï¼Œæ— éœ€å®‰è£…ï¼Œæµè§ˆå™¨å³å¯ä½¿ç”¨
- ğŸ“± **è·¨å¹³å°**ï¼šæ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- ğŸ® **æ¸¸æˆåŒ–**ï¼šé€šè¿‡æ¸¸æˆæœºåˆ¶æå‡ç”¨æˆ·å‚ä¸åº¦

### 1.3 æ ¸å¿ƒä»·å€¼

1. **é›¶é—¨æ§›è¿åŠ¨**ï¼šæ— éœ€ä»»ä½•å™¨æï¼Œéšæ—¶éšåœ°å¼€å§‹é”»ç‚¼
2. **å®æ—¶åé¦ˆ**ï¼šAI å®æ—¶è¯„ä¼°åŠ¨ä½œå‡†ç¡®åº¦ï¼Œå¸®åŠ©ç”¨æˆ·æ”¹è¿›
3. **è¶£å‘³æ€§å¼º**ï¼šæ¸¸æˆåŒ–è®¾è®¡å¢å¼ºç”¨æˆ·ç²˜æ€§
4. **éšç§ä¿æŠ¤**ï¼šæ‰€æœ‰è®¡ç®—åœ¨æœ¬åœ°å®Œæˆï¼Œä¸ä¸Šä¼ ç”¨æˆ·å½±åƒ

### 1.4 ç›®æ ‡ç”¨æˆ·

- åŠå…¬å®¤äººç¾¤ï¼šä¹…åéœ€è¦æ‹‰ä¼¸è¿åŠ¨
- å±…å®¶äººå£«ï¼šåœ¨å®¶é”»ç‚¼çš„ä¾¿æ·é€‰æ‹©
- å¥èº«çˆ±å¥½è€…ï¼šçƒ­èº«æˆ–æ¢å¤è®­ç»ƒ
- è€å¹´äººç¾¤ï¼šå®‰å…¨ã€ç®€å•çš„è¿åŠ¨æ–¹å¼

---

## 2. æŠ€æœ¯æ¶æ„ {#æŠ€æœ¯æ¶æ„}

### 2.1 æŠ€æœ¯æ ˆ

#### å‰ç«¯æŠ€æœ¯
```
â”œâ”€â”€ HTML5          # é¡µé¢ç»“æ„
â”œâ”€â”€ CSS3           # æ ·å¼è®¾è®¡ï¼ˆGlassmorphism é£æ ¼ï¼‰
â”œâ”€â”€ JavaScript     # æ ¸å¿ƒé€»è¾‘ï¼ˆES6+ï¼‰
â””â”€â”€ Canvas API     # éª¨éª¼ç‚¹ç»˜åˆ¶
```

#### AI/ML æ¡†æ¶
```
â”œâ”€â”€ MediaPipe Pose Landmarker  # å§¿æ€æ£€æµ‹
â”œâ”€â”€ @mediapipe/tasks-vision    # Vision ä»»åŠ¡å¤„ç†
â””â”€â”€ Web Speech API             # è¯­éŸ³åé¦ˆ
```

#### éƒ¨ç½²ä¸è¿ç»´
```
â”œâ”€â”€ Node.js + serve   # é™æ€æ–‡ä»¶æœåŠ¡
â”œâ”€â”€ Railway           # äº‘ç«¯éƒ¨ç½²
â””â”€â”€ GitHub            # ä»£ç æ‰˜ç®¡ä¸ç‰ˆæœ¬æ§åˆ¶
```

### 2.2 ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·æµè§ˆå™¨                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              å‰ç«¯åº”ç”¨å±‚                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ index.html â”‚  â”‚ game.html  â”‚  â”‚ intro.js â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ (ä»‹ç»é¡µé¢) â”‚  â”‚ (æ¸¸æˆé¡µé¢) â”‚  â”‚ (é€»è¾‘)   â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              æ ¸å¿ƒé€»è¾‘å±‚ (main.js)                â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ å§¿æ€è¯†åˆ«   â”‚  â”‚ åŠ¨ä½œè¯„ä¼°   â”‚  â”‚ æ¸¸æˆæ§åˆ¶ â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ æ¨¡å—       â”‚  â”‚ æ¨¡å—       â”‚  â”‚ æ¨¡å—     â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              AI å¼•æ“å±‚                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚       MediaPipe Pose Landmarker            â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  - 33 ä¸ªéª¨éª¼ç‚¹æ£€æµ‹                         â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  - å®æ—¶å§¿æ€è¿½è¸ª                            â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  - 3D åæ ‡è®¡ç®—                             â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              è®¾å¤‡æ¥å£å±‚                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ æ‘„åƒå¤´     â”‚  â”‚ éº¦å…‹é£     â”‚  â”‚ æ‰¬å£°å™¨   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ (getUserMedia)â”‚ (å¯é€‰)    â”‚  â”‚ (è¯­éŸ³)   â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Railway    â”‚
                    â”‚  äº‘ç«¯éƒ¨ç½²    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 æŠ€æœ¯é€‰å‹ç†ç”±

| æŠ€æœ¯ | é€‰å‹ç†ç”± |
|------|----------|
| **MediaPipe** | Google å¼€æºï¼Œé«˜æ€§èƒ½ï¼Œæ”¯æŒ Web ç«¯å®æ—¶å§¿æ€æ£€æµ‹ |
| **çº¯å‰ç«¯æ¶æ„** | æ— éœ€åç«¯ï¼Œé™ä½æˆæœ¬ï¼Œä¿æŠ¤ç”¨æˆ·éšç§ |
| **Canvas** | é«˜æ€§èƒ½å›¾å½¢æ¸²æŸ“ï¼Œé€‚åˆå®æ—¶éª¨éª¼ç‚¹ç»˜åˆ¶ |
| **Web Speech API** | æµè§ˆå™¨åŸç”Ÿæ”¯æŒï¼Œæ— éœ€ç¬¬ä¸‰æ–¹ä¾èµ– |
| **Railway** | å¿«é€Ÿéƒ¨ç½²ï¼Œè‡ªåŠ¨ HTTPSï¼ŒCDN åŠ é€Ÿ |

---

## 3. ç³»ç»Ÿè®¾è®¡ {#ç³»ç»Ÿè®¾è®¡}

### 3.1 ç³»ç»Ÿæ¨¡å—åˆ’åˆ†

```
epic7_game/
â”œâ”€â”€ ç”¨æˆ·ç•Œé¢å±‚
â”‚   â”œâ”€â”€ index.html          # æ¸¸æˆä»‹ç»é¡µé¢
â”‚   â”œâ”€â”€ game.html           # æ¸¸æˆä¸»ç•Œé¢
â”‚   â””â”€â”€ intro.js            # ä»‹ç»é¡µé¢é€»è¾‘
â”‚
â”œâ”€â”€ æ ¸å¿ƒé€»è¾‘å±‚
â”‚   â””â”€â”€ main.js             # æ¸¸æˆæ ¸å¿ƒé€»è¾‘
â”‚       â”œâ”€â”€ å§¿æ€è¯†åˆ«æ¨¡å—
â”‚       â”œâ”€â”€ åŠ¨ä½œè¯„ä¼°æ¨¡å—
â”‚       â”œâ”€â”€ æ¸¸æˆæ¨¡å¼ç®¡ç†
â”‚       â”œâ”€â”€ æ‰‹åŠ¿æ§åˆ¶æ¨¡å—
â”‚       â””â”€â”€ è¯­éŸ³åé¦ˆæ¨¡å—
â”‚
â”œâ”€â”€ é™æ€èµ„æº
â”‚   â”œâ”€â”€ logo.png
â”‚   â”œâ”€â”€ game-interface-demo.png
â”‚   â”œâ”€â”€ movement card.png
â”‚   â”œâ”€â”€ demonstration.png
â”‚   â”œâ”€â”€ Fit.png
â”‚   â”œâ”€â”€ celebration message.png
â”‚   â””â”€â”€ hands-free gesture control.png
â”‚
â””â”€â”€ é…ç½®æ–‡ä»¶
    â”œâ”€â”€ package.json        # é¡¹ç›®ä¾èµ–
    â”œâ”€â”€ Procfile            # Railway å¯åŠ¨é…ç½®
    â”œâ”€â”€ railway.json        # Railway éƒ¨ç½²é…ç½®
    â””â”€â”€ serve.json          # é™æ€æœåŠ¡é…ç½®
```

### 3.2 é¡µé¢æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è®¿é—®ç½‘ç«™    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  index.html      â”‚
â”‚  (æ¸¸æˆä»‹ç»é¡µé¢)  â”‚
â”‚  - è§„åˆ™è¯´æ˜      â”‚
â”‚  - æƒé™è¯´æ˜      â”‚
â”‚  - ä½¿ç”¨æŒ‡å—      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
   [Start]
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  game.html       â”‚
â”‚  (æ¸¸æˆä¸»ç•Œé¢)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ¬¢è¿å¼¹çª—        â”‚
â”‚  Welcome Modal   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
   [Go! / Skip Guide]
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¼•å¯¼ç³»ç»Ÿ        â”‚
â”‚  8 æ­¥æ•™ç¨‹        â”‚
â”‚  - Movement Cardsâ”‚
â”‚  - Demonstration â”‚
â”‚  - Detection Areaâ”‚
â”‚  - Tip / Fit     â”‚
â”‚  - Voice / Gestureâ”‚
â”‚  - Play Button   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
   [Try it!]
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¯·æ±‚æ‘„åƒå¤´æƒé™  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
   [åŒæ„]
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Practice æ¨¡å¼ (é»˜è®¤)        â”‚
â”‚  - è‡ªç”±é€‰æ‹©åŠ¨ä½œå¡ç‰‡          â”‚
â”‚  - å®æ—¶å§¿æ€æ£€æµ‹              â”‚
â”‚  - Fit è¯„åˆ†åé¦ˆ              â”‚
â”‚  - æ‰‹åŠ¿æ§åˆ¶åˆ‡æ¢              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“ [ç‚¹å‡» Play]
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Play æ¨¡å¼ä¿¡æ¯å¼¹çª—           â”‚
â”‚  - è§„åˆ™è¯´æ˜                  â”‚
â”‚  - è¯„åˆ†æœºåˆ¶                  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“ [Action!]
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Play æ¨¡å¼                   â”‚
â”‚  - æŒ‰é¡ºåºå®Œæˆæ‰€æœ‰åŠ¨ä½œ        â”‚
â”‚  - ç¦ç”¨æ‰‹åŠ¨åˆ‡æ¢              â”‚
â”‚  - è‡ªåŠ¨è¯„åˆ†                  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“ [å®Œæˆæ‰€æœ‰åŠ¨ä½œ]
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å®Œæˆå¼¹çª—                    â”‚
â”‚  - æ˜¾ç¤ºæœ€ç»ˆå¾—åˆ†              â”‚
â”‚  - "One more time" (é‡æ–°å¼€å§‹)â”‚
â”‚  - "Leave" (è¿”å›ä¸»é¡µ)        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“ [Finish]
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¿”å› intro é¡µé¢ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 çŠ¶æ€ç®¡ç†

```javascript
// å…¨å±€çŠ¶æ€
{
  // å§¿æ€è¯†åˆ«çŠ¶æ€
  stream: null,                    // è§†é¢‘æµ
  poseLandmarker: null,            // å§¿æ€æ£€æµ‹å™¨
  landmarks: null,                 // å½“å‰éª¨éª¼ç‚¹
  smoothedLandmarks: [],           // å¹³æ»‘åçš„éª¨éª¼ç‚¹
  
  // æ¸¸æˆçŠ¶æ€
  training: false,                 // æ˜¯å¦å¼€å§‹æ£€æµ‹
  practiceMode: true,              // Practice/Play æ¨¡å¼
  scoreMode: false,                // æ˜¯å¦è¯„åˆ†æ¨¡å¼
  currentMode: 'overhead_reach',   // å½“å‰åŠ¨ä½œ
  
  // è¯„ä¼°çŠ¶æ€
  overlayScorePercent: 0,          // Fit ç™¾åˆ†æ¯”
  holdSec: 0,                      // ä¿æŒæ—¶é—´
  successCount: 0,                 // æˆåŠŸæ¬¡æ•°
  
  // æ‰‹åŠ¿æ§åˆ¶
  lastGestureMs: 0,                // ä¸Šæ¬¡æ‰‹åŠ¿æ—¶é—´
  gestureHoldMs: 0,                // æ‰‹åŠ¿ä¿æŒæ—¶é—´
  
  // è¯­éŸ³ç³»ç»Ÿ
  voiceEnabled: true,              // è¯­éŸ³å¼€å…³
  
  // Play æ¨¡å¼
  autoIndex: 0,                    // å½“å‰åŠ¨ä½œç´¢å¼•
  totalScore: 0,                   // æ€»åˆ†
  totalSamples: 0,                 // æ ·æœ¬æ•°
  playStartMs: 0,                  // å¼€å§‹æ—¶é—´
  
  // å¼•å¯¼ç³»ç»Ÿ
  hasSeenWelcome: false,           // æ˜¯å¦çœ‹è¿‡æ¬¢è¿å¼¹çª—
  guidesCompleted: false           // æ˜¯å¦å®Œæˆå¼•å¯¼
}
```

---

## 4. æ ¸å¿ƒåŠŸèƒ½æ¨¡å— {#æ ¸å¿ƒåŠŸèƒ½æ¨¡å—}

### 4.1 å§¿æ€è¯†åˆ«æ¨¡å—

#### 4.1.1 MediaPipe åˆå§‹åŒ–

```javascript
// åŠ è½½ MediaPipe æ¨¡å‹
const vision = await FilesetResolver.forVisionTasks(
  "https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/wasm"
);

poseLandmarker = await PoseLandmarker.createFromOptions(vision, {
  baseOptions: {
    modelAssetPath: `https://storage.googleapis.com/mediapipe-models/pose_landmarker/pose_landmarker_lite/float16/1/pose_landmarker_lite.task`,
    delegate: "GPU"
  },
  runningMode: "VIDEO",
  numPoses: 1
});
```

#### 4.1.2 å®æ—¶æ£€æµ‹æµç¨‹

```
1. è·å–æ‘„åƒå¤´è§†é¢‘æµ (getUserMedia)
   â†“
2. å°†è§†é¢‘å¸§ä¼ å…¥ MediaPipe
   â†“
3. æ£€æµ‹ 33 ä¸ªéª¨éª¼ç‚¹
   â†“
4. æŒ‡æ•°å¹³æ»‘å¤„ç† (é™å™ª)
   â†“
5. ç»˜åˆ¶éª¨éª¼ç‚¹åˆ° Canvas
   â†“
6. å¾ªç¯ (requestAnimationFrame)
```

#### 4.1.3 éª¨éª¼ç‚¹æ˜ å°„

MediaPipe æä¾› 33 ä¸ªéª¨éª¼ç‚¹ï¼š

```
0:  NOSE              # é¼»å­
1:  LEFT_EYE_INNER    # å·¦çœ¼å†…ä¾§
2:  LEFT_EYE          # å·¦çœ¼
...
11: LEFT_SHOULDER     # å·¦è‚©
12: RIGHT_SHOULDER    # å³è‚©
13: LEFT_ELBOW        # å·¦è‚˜
14: RIGHT_ELBOW       # å³è‚˜
15: LEFT_WRIST        # å·¦è…•
16: RIGHT_WRIST       # å³è…•
23: LEFT_HIP          # å·¦é«‹
24: RIGHT_HIP         # å³é«‹
25: LEFT_KNEE         # å·¦è†
26: RIGHT_KNEE        # å³è†
27: LEFT_ANKLE        # å·¦è¸
28: RIGHT_ANKLE       # å³è¸
```

### 4.2 åŠ¨ä½œè¯„ä¼°æ¨¡å—

#### 4.2.1 æ”¯æŒçš„åŠ¨ä½œåˆ—è¡¨

```javascript
const exerciseOrder = [
  'overhead_reach',      // å¤´é¡¶ä¼¸å±•
  't_pose',              // T å­—å§¿åŠ¿
  'y_raise',             // Y å­—ä¸¾èµ·
  'high_knee_hold',      // å·¦è…¿é«˜æŠ¬
  'high_knee_hold_right',// å³è…¿é«˜æŠ¬
  'hamstring_hinge'      // è…˜ç»³è‚Œé“°é“¾ï¼ˆæœ€éš¾ï¼‰
];
```

#### 4.2.2 è¯„ä¼°ç®—æ³•

æ¯ä¸ªåŠ¨ä½œéƒ½æœ‰ç‰¹å®šçš„è¯„ä¼°ç®—æ³•ï¼Œä¸»è¦åŒ…æ‹¬ï¼š

1. **è§’åº¦æ£€æµ‹**
```javascript
// è®¡ç®—å…³èŠ‚è§’åº¦
function angle(a, b, c) {
  const radians = Math.atan2(c.y - b.y, c.x - b.x) - 
                  Math.atan2(a.y - b.y, a.x - b.x);
  let angle = Math.abs(radians * 180.0 / Math.PI);
  if (angle > 180.0) angle = 360 - angle;
  return angle;
}
```

2. **è·ç¦»æ£€æµ‹**
```javascript
// è®¡ç®—ä¸¤ç‚¹è·ç¦»
function dist(a, b) {
  return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));
}
```

3. **é«˜åº¦æ£€æµ‹**
```javascript
// æ‰‹è…•æ˜¯å¦é«˜äºè‚©è†€
if (lWrist.y < lShoulder.y && rWrist.y < rShoulder.y) {
  // ç¬¦åˆè¦æ±‚
}
```

#### 4.2.3 è¯„åˆ†æœºåˆ¶

```javascript
// Fit ç™¾åˆ†æ¯”è®¡ç®—
let score = 100;

// æ ¹æ®ä¸åŒåŠ¨ä½œçš„é˜ˆå€¼æ‰£åˆ†
if (angle < threshold.primary[0] || angle > threshold.primary[1]) {
  score -= 50;
}
if (dist > threshold.secondary) {
  score -= 30;
}

// å¹³æ»‘å¤„ç†
overlayScorePercent = 0.5 * overlayScorePercent + 0.5 * score;

// æˆåŠŸåˆ¤å®šï¼šFit â‰¥ 90% ä¸”ä¿æŒ 1 ç§’
if (overlayScorePercent >= 90 && holdSec >= 1) {
  // åŠ¨ä½œå®Œæˆ
  showCelebration('completed!');
}
```

### 4.3 æ¸¸æˆæ¨¡å¼ç®¡ç†

#### 4.3.1 Practice æ¨¡å¼

**ç‰¹ç‚¹ï¼š**
- âœ… è‡ªç”±é€‰æ‹©ä»»æ„åŠ¨ä½œå¡ç‰‡
- âœ… å¯é‡å¤ç»ƒä¹ åŒä¸€åŠ¨ä½œ
- âœ… æ”¯æŒæ‰‹åŠ¿æ§åˆ¶åˆ‡æ¢
- âœ… æ— æ—¶é—´é™åˆ¶
- âœ… æ˜¾ç¤º Setting æŒ‰é’®

**æµç¨‹ï¼š**
```
ç”¨æˆ·ç‚¹å‡»åŠ¨ä½œå¡ç‰‡
  â†“
æ›´æ–°å½“å‰åŠ¨ä½œ
  â†“
åˆ‡æ¢è¯„ä¼°ç®—æ³•
  â†“
æ›´æ–°ç«æŸ´äººæ¼”ç¤º
  â†“
è¯­éŸ³æ’­æŠ¥æç¤º
  â†“
å¼€å§‹æ£€æµ‹
  â†“
è¾¾æ ‡åæ˜¾ç¤ºåº†ç¥
  â†“
é‡ç½®è®¡æ•°å™¨ï¼Œå¯é‡å¤
```

#### 4.3.2 Play æ¨¡å¼

**ç‰¹ç‚¹ï¼š**
- ğŸš« ç¦ç”¨æ‰‹åŠ¨é€‰æ‹©å¡ç‰‡
- ğŸš« ç¦ç”¨æ‰‹åŠ¿åˆ‡æ¢
- âœ… æŒ‰å›ºå®šé¡ºåºå®Œæˆæ‰€æœ‰åŠ¨ä½œ
- âœ… è®°å½•å®Œæˆæ—¶é—´
- âœ… ç»¼åˆè¯„åˆ†
- âœ… Play æŒ‰é’®å˜ä¸º Finish æŒ‰é’®

**è¯„åˆ†ç®—æ³•ï¼š**
```javascript
// è´¨é‡åˆ† (85%) + é€Ÿåº¦åˆ† (15%)
const qualityScore = (totalScore / totalSamples) * 85;
const speedScore = Math.max(0, 100 - (elapsedSec / 60) * 50) * 15;
const finalScore = Math.round(qualityScore + speedScore);
```

### 4.4 æ‰‹åŠ¿æ§åˆ¶æ¨¡å—

#### 4.4.1 æ‰‹åŠ¿è¯†åˆ«

**åŒæ‰‹æ­è‚©æ‰‹åŠ¿ï¼š**
```javascript
// æ£€æµ‹æ‰‹è…•æ˜¯å¦åœ¨è‚©è†€ä¸Šæ–¹
const lHandsOnShoulder = lWrist.y < lShoulder.y;
const rHandsOnShoulder = rWrist.y < rShoulder.y;

if (lHandsOnShoulder && rHandsOnShoulder) {
  // æ‰‹åŠ¿è§¦å‘
}
```

#### 4.4.2 é˜²æŠ–æœºåˆ¶

```javascript
// é¿å…å¿«é€Ÿåˆ‡æ¢
if (gestureHoldMs >= 1000) {  // ä¿æŒ 1 ç§’
  // åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªåŠ¨ä½œ
  autoIndex = (autoIndex + 1) % exerciseOrder.length;
  gestureHoldMs = 0;
}
```

#### 4.4.3 Play æ¨¡å¼ç¦ç”¨

```javascript
// Play æ¨¡å¼ä¸‹ç¦ç”¨æ‰‹åŠ¿æ§åˆ¶
if (scoreMode) {
  // æ‰‹åŠ¿æ— æ•ˆ
  return;
}
```

### 4.5 è¯­éŸ³åé¦ˆæ¨¡å—

#### 4.5.1 Web Speech API

```javascript
function speak(text) {
  if (!voiceEnabled) return;
  
  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = 'en-US';
  utterance.rate = 1.0;
  utterance.pitch = 1.0;
  
  speechSynthesis.speak(utterance);
}
```

#### 4.5.2 è¯­éŸ³åœºæ™¯

- åŠ¨ä½œåˆ‡æ¢ï¼šæ’­æŠ¥åŠ¨ä½œæç¤º
- åŠ¨ä½œå®Œæˆï¼šæ’­æŠ¥ "Well done!"
- æ¨¡å¼åˆ‡æ¢ï¼šæ’­æŠ¥æ¨¡å¼çŠ¶æ€
- Play å¼€å§‹ï¼šæ’­æŠ¥ "The play begins!"
- Play ç»“æŸï¼šæ’­æŠ¥æœ€ç»ˆå¾—åˆ†

### 4.6 å¼•å¯¼ç³»ç»Ÿ

#### 4.6.1 å¼•å¯¼æµç¨‹

```
Welcome Modal (æ¬¢è¿)
  â†“ [Go!]
Guide Modal 1 (Movement Cards)
  â†“ [Next!]
Guide Modal 2 (Movement Demonstration)
  â†“ [Next!]
Guide Modal 3 (Detection Area)
  â†“ [Next!]
Guide Modal 4 (Tip Area)
  â†“ [Next!]
Guide Modal 5 (Fit Area)
  â†“ [Next!]
Guide Modal 6 (Voice Button)
  â†“ [Next!]
Guide Modal 7 (Gesture Control)
  â†“ [Next!]
Guide Modal 8 (Play Button)
  â†“ [Try it!]
å¼€å§‹æ¸¸æˆ
```

#### 4.6.2 èšå…‰ç¯æ•ˆæœ

```css
.spotlight {
  position: absolute;
  pointer-events: none;
  border-radius: 20px;
  box-shadow: 0 0 0 9999px rgba(0,0,0,.45);
  transition: all 0.5s ease;
}
```

#### 4.6.3 è·³è¿‡å¼•å¯¼

```javascript
function skipAllGuides() {
  localStorage.setItem('welcomeSeen', 'true');
  localStorage.setItem('guidesCompleted', 'true');
  // ç›´æ¥å¼€å§‹æ¸¸æˆ
  await start();
}
```

---

## 5. ç”¨æˆ·ç•Œé¢è®¾è®¡ {#ç”¨æˆ·ç•Œé¢è®¾è®¡}

### 5.1 è®¾è®¡é£æ ¼ï¼šGlassmorphism

**æ ¸å¿ƒç‰¹å¾ï¼š**
- ğŸŒ«ï¸ æ¯›ç»ç’ƒæ•ˆæœ (`backdrop-filter: blur(10px)`)
- ğŸ¨ åŠé€æ˜èƒŒæ™¯ (`rgba(255,255,255,0.3)`)
- â­• å¤§åœ†è§’ (`border-radius: 20px+`)
- âœ¨ æŸ”å’Œé˜´å½± (`box-shadow`)
- ğŸ¯ æ©™è‰²ä¸»é¢˜è‰² (`#ff6b35`)

**CSS å®ç°ï¼š**
```css
:root {
  --primary: #ff6b35;
  --surface: rgba(255,255,255,0.3);
  --border: rgba(255,255,255,0.4);
  --text: #2c3e50;
}

.card {
  background: var(--surface);
  backdrop-filter: blur(10px);
  border-radius: 20px;
  border: 1px solid var(--border);
  box-shadow: 0 20px 50px rgba(0,0,0,.12);
}
```

### 5.2 é¡µé¢å¸ƒå±€

#### 5.2.1 æ¸¸æˆä»‹ç»é¡µé¢ (index.html)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           BHeader (å¯¼èˆªæ )               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  ğŸ® Move a Little Game                  â”‚
â”‚                                          â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘  How to play?                    â•‘  â”‚
â”‚  â•‘  - æ¸¸æˆä»‹ç»                      â•‘  â”‚
â”‚  â•‘  - Access & Permission           â•‘  â”‚
â”‚  â•‘  - Ready? Start â¡ [Start]       â•‘  â”‚
â”‚  â•‘  - How to Practice? (å›¾æ–‡å¹¶èŒ‚)   â•‘  â”‚
â”‚  â•‘  - Play mode                     â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.2.2 æ¸¸æˆä¸»ç•Œé¢ (game.html)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BHeader (å¯¼èˆªæ )                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å·¦ä¾§é¢æ¿ (30%)            â”‚  å³ä¾§é¢æ¿ (70%)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Movement             â”‚ â”‚  â”‚  ğŸ”Š [Voice]              â”‚ â”‚
â”‚  â”‚ Demonstration        â”‚ â”‚  â”‚                          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  ğŸš¶ ç«æŸ´äºº     â”‚  â”‚ â”‚  â”‚  â”‚  ğŸ“¹ Detection Area â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    åŠ¨ç”»æ¼”ç¤º    â”‚  â”‚ â”‚  â”‚  â”‚                    â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚  â”‚  â”‚  (å®æ—¶è§†é¢‘+éª¨éª¼ç‚¹) â”‚ â”‚ â”‚
â”‚  â”‚  [â—â—â—â—â—‹]             â”‚ â”‚  â”‚  â”‚                    â”‚ â”‚ â”‚
â”‚  â”‚  [â–¶ Play]            â”‚ â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚                          â”‚ â”‚
â”‚                            â”‚  â”‚  Move: Y Raise  Fit: 85% â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚                          â”‚ â”‚
â”‚  â”‚ Movement Cards       â”‚ â”‚  â”‚  Tip: Lift arms into 'Y',â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”â”‚ â”‚  â”‚  wrists above shoulders  â”‚ â”‚
â”‚  â”‚  â”‚ Y  â”‚ â”‚ T  â”‚ â”‚...â”‚â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚  â”‚Raiseâ”‚ â”‚Poseâ”‚ â”‚   â”‚â”‚ â”‚                               â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”˜â”‚ â”‚                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 å“åº”å¼è®¾è®¡

#### ç§»åŠ¨ç«¯é€‚é…

```css
@media (max-width: 768px) {
  .wrap {
    flex-direction: column;
  }
  
  .leftPanel {
    width: 100%;
    max-width: none;
  }
  
  .hero {
    width: 100%;
  }
}
```

#### å­—ä½“å“åº”å¼

```css
h1 {
  font-size: clamp(32px, 5vw, 48px);
}

.heroTip {
  font-size: clamp(14px, 1.8vw, 18px);
}
```

### 5.4 äº¤äº’è®¾è®¡

#### 5.4.1 æŒ‰é’®è®¾è®¡

```css
/* ä¸»æŒ‰é’® */
.btnPrimary {
  background: linear-gradient(135deg, var(--primary), #f94144);
  color: white;
  border: none;
  padding: 14px 32px;
  border-radius: 16px;
  font-size: 18px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
}

.btnPrimary:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 30px rgba(255,107,53,.4);
}
```

#### 5.4.2 å¡ç‰‡äº¤äº’

```css
.cardMove {
  transition: all 0.3s ease;
  cursor: pointer;
}

.cardMove:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 30px rgba(0,0,0,.15);
}

.cardMove.active {
  border: 3px solid var(--primary);
  box-shadow: 0 0 30px rgba(255,107,53,.3);
}

.cardMove.disabled {
  opacity: 0.5;
  pointer-events: none;
}
```

#### 5.4.3 å¼¹çª—åŠ¨ç”»

```css
@keyframes modalSlideIn {
  from {
    opacity: 0;
    transform: translateY(-30px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.welcomeCard {
  animation: modalSlideIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}
```

### 5.5 è§†è§‰å±‚æ¬¡

```
å±‚çº§ 1: å¯¼èˆªæ  (z-index: 1000)
å±‚çº§ 2: å¼¹çª— (z-index: 2000-2500)
  â”œâ”€â”€ æ¬¢è¿å¼¹çª— (2000)
  â”œâ”€â”€ å¼•å¯¼å¼¹çª— (2100)
  â”œâ”€â”€ Play ä¿¡æ¯å¼¹çª— (2500)
  â””â”€â”€ å®Œæˆå¼¹çª— (2200)
å±‚çº§ 3: ä¸»å†…å®¹åŒº (z-index: 1)
å±‚çº§ 4: èƒŒæ™¯ (z-index: 0)
```

---

## 6. ç®—æ³•è®¾è®¡ {#ç®—æ³•è®¾è®¡}

### 6.1 å§¿æ€å¹³æ»‘ç®—æ³•

#### æŒ‡æ•°ç§»åŠ¨å¹³å‡ (EMA)

```javascript
// Î² æ§åˆ¶å¹³æ»‘ç¨‹åº¦ (0-1)
// Î² è¶Šå¤§ï¼Œå¹³æ»‘è¶Šå¼ºï¼Œä½†å“åº”è¶Šæ…¢
const beta = 0.5;

for (let i = 0; i < 33; i++) {
  if (!smoothedLandmarks[i]) {
    smoothedLandmarks[i] = { ...landmarks[i] };
  } else {
    smoothedLandmarks[i].x = beta * smoothedLandmarks[i].x + (1 - beta) * landmarks[i].x;
    smoothedLandmarks[i].y = beta * smoothedLandmarks[i].y + (1 - beta) * landmarks[i].y;
    smoothedLandmarks[i].z = beta * smoothedLandmarks[i].z + (1 - beta) * landmarks[i].z;
  }
}
```

### 6.2 åŠ¨ä½œè¯„ä¼°ç®—æ³•

#### 6.2.1 Overhead Reach (å¤´é¡¶ä¼¸å±•)

```javascript
// è¯„ä¼°æ¡ä»¶ï¼š
// 1. åŒæ‰‹æ‰‹è…•é«˜äºè‚©è†€
// 2. æ‰‹è‡‚è§’åº¦æ¥è¿‘ 180Â° (ä¼¸ç›´)

const lElbowAngle = angle(lShoulder, lElbow, lWrist);
const rElbowAngle = angle(rShoulder, rElbow, rWrist);

let score = 100;

// æ‰‹è…•é«˜åº¦æ£€æŸ¥
if (lWrist.y > lShoulder.y) score -= 30;
if (rWrist.y > rShoulder.y) score -= 30;

// æ‰‹è‡‚ä¼¸ç›´æ£€æŸ¥
if (lElbowAngle < 160 || lElbowAngle > 200) score -= 20;
if (rElbowAngle < 160 || rElbowAngle > 200) score -= 20;

return Math.max(0, score);
```

#### 6.2.2 T Pose (T å­—å§¿åŠ¿)

```javascript
// è¯„ä¼°æ¡ä»¶ï¼š
// 1. æ‰‹è‡‚æ°´å¹³ä¼¸å±•
// 2. è‚©-è‚˜-è…•åœ¨åŒä¸€æ°´å¹³çº¿

const lArmAngle = angle(lWrist, lShoulder, rShoulder);
const rArmAngle = angle(rWrist, rShoulder, lShoulder);

let score = 100;

// æ‰‹è‡‚è§’åº¦æ£€æŸ¥ (æ¥è¿‘ 90Â°)
if (lArmAngle < 80 || lArmAngle > 100) score -= 40;
if (rArmAngle < 80 || rArmAngle > 100) score -= 40;

// é«˜åº¦ä¸€è‡´æ€§æ£€æŸ¥
const heightDiff = Math.abs(lWrist.y - rWrist.y);
if (heightDiff > 0.05) score -= 20;

return Math.max(0, score);
```

#### 6.2.3 High Knee Hold (é«˜æŠ¬è…¿)

```javascript
// è¯„ä¼°æ¡ä»¶ï¼š
// 1. æŠ¬èµ·è…¿çš„è†ç›–é«˜äºé«‹éƒ¨
// 2. å¤§è…¿æ¥è¿‘æ°´å¹³
// 3. å°è…¿å‚ç›´

const kneeAboveHip = knee.y < hip.y;
const thighAngle = angle(hip, knee, ankle);

let score = 100;

// è†ç›–é«˜åº¦æ£€æŸ¥
if (!kneeAboveHip) score -= 50;

// å¤§è…¿è§’åº¦æ£€æŸ¥ (æ¥è¿‘ 90Â°)
if (thighAngle < 80 || thighAngle > 100) score -= 30;

// å¹³è¡¡æ€§æ£€æŸ¥
const bodyTilt = Math.abs(lShoulder.y - rShoulder.y);
if (bodyTilt > 0.05) score -= 20;

return Math.max(0, score);
```

#### 6.2.4 Hamstring Hinge (è…˜ç»³è‚Œé“°é“¾)

```javascript
// è¯„ä¼°æ¡ä»¶ï¼š
// 1. èº¯å¹²å‰å€¾ 20-30Â°
// 2. èƒŒéƒ¨ä¿æŒç›´ç«‹
// 3. è…¿éƒ¨å¾®å±ˆ

const torsoAngle = Math.atan2(
  (lShoulder.y + rShoulder.y) / 2 - (lHip.y + rHip.y) / 2,
  (lShoulder.x + rShoulder.x) / 2 - (lHip.x + rHip.x) / 2
);

const targetTilt = -Math.PI / 9;  // -20Â°
const diff = Math.abs(torsoAngle - targetTilt);

let score = 100;

// å‰å€¾è§’åº¦æ£€æŸ¥
if (diff > Math.PI / 18) score -= 40;  // è¶…è¿‡ 10Â° åå·®

// è…¿éƒ¨è§’åº¦æ£€æŸ¥
const lKneeAngle = angle(lHip, lKnee, lAnkle);
if (lKneeAngle < 160 || lKneeAngle > 180) score -= 30;

return Math.max(0, score);
```

### 6.3 è¯„åˆ†æ›´æ–°é¢‘ç‡æ§åˆ¶

```javascript
// é™åˆ¶æ›´æ–°é¢‘ç‡ä¸º 10 FPS (æ¯ 100ms)
const now = performance.now();
if (now - lastOverlayUpdateMs < 100) return;

lastOverlayUpdateMs = now;

// å¹³æ»‘è¯„åˆ†å˜åŒ–
overlayScorePercent = 0.5 * overlayScorePercent + 0.5 * newScore;
```

### 6.4 æˆåŠŸåˆ¤å®šç®—æ³•

```javascript
// ä¸¤ä¸ªæ¡ä»¶åŒæ—¶æ»¡è¶³ï¼š
// 1. Fit â‰¥ 90%
// 2. ä¿æŒæ—¶é—´ â‰¥ 1 ç§’

if (overlayScorePercent >= 90) {
  holdSec += deltaTime;
  
  if (holdSec >= 1) {
    // åŠ¨ä½œæˆåŠŸ
    successCount++;
    holdSec = 0;
    
    // æ˜¾ç¤ºåº†ç¥
    showCelebration('completed!');
    speak('Well done!');
    
    // Play æ¨¡å¼ï¼šè‡ªåŠ¨åˆ‡æ¢ä¸‹ä¸€ä¸ªåŠ¨ä½œ
    if (scoreMode) {
      autoAdvanceToNextExercise();
    }
  }
} else {
  holdSec = 0;  // é‡ç½®è®¡æ—¶
}
```

---

## 7. æ•°æ®æµè®¾è®¡ {#æ•°æ®æµè®¾è®¡}

### 7.1 ä¸»å¾ªç¯æ•°æ®æµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  requestAnimationFrame â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è·å–è§†é¢‘å¸§         â”‚
â”‚  video.currentTime  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MediaPipe æ£€æµ‹     â”‚
â”‚  detectForVideo()   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æå–éª¨éª¼ç‚¹         â”‚
â”‚  33 ä¸ª landmarks    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æŒ‡æ•°å¹³æ»‘å¤„ç†       â”‚
â”‚  smoothedLandmarks  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç»˜åˆ¶éª¨éª¼ç‚¹         â”‚
â”‚  drawConnectors()   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åŠ¨ä½œè¯„ä¼°           â”‚
â”‚  evaluatePose()     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ›´æ–° UI            â”‚
â”‚  Fit / Tip / åº†ç¥   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ‰‹åŠ¿æ£€æµ‹           â”‚
â”‚  gestureControl()   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¾ªç¯               â”‚
â”‚  requestAnimationFrame â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 äº‹ä»¶é©±åŠ¨æµç¨‹

#### 7.2.1 ç”¨æˆ·ç‚¹å‡»å¡ç‰‡

```
ç”¨æˆ·ç‚¹å‡»å¡ç‰‡
  â†“
onCardClick(mode)
  â†“
æ›´æ–° currentMode
  â†“
updateDemoCanvas(mode)  // æ›´æ–°ç«æŸ´äºº
  â†“
updateTip(mode)         // æ›´æ–°æç¤º
  â†“
highlightCard(mode)     // é«˜äº®å¡ç‰‡
  â†“
speak(tip)              // è¯­éŸ³æ’­æŠ¥
```

#### 7.2.2 Play æ¨¡å¼æµç¨‹

```
ç”¨æˆ·ç‚¹å‡» Play æŒ‰é’®
  â†“
æ˜¾ç¤º Play ä¿¡æ¯å¼¹çª—
  â†“
ç”¨æˆ·ç‚¹å‡» Action!
  â†“
startPlayMode()
  â”œâ”€â”€ scoreMode = true
  â”œâ”€â”€ autoIndex = 0
  â”œâ”€â”€ ç¦ç”¨å¡ç‰‡ç‚¹å‡»
  â”œâ”€â”€ ç¦ç”¨æ‰‹åŠ¿æ§åˆ¶
  â”œâ”€â”€ å¼€å§‹è®¡æ—¶
  â””â”€â”€ åˆ‡æ¢åˆ°ç¬¬ä¸€ä¸ªåŠ¨ä½œ
  â†“
ç”¨æˆ·å®Œæˆå½“å‰åŠ¨ä½œ
  â†“
autoAdvanceToNextExercise()
  â”œâ”€â”€ è®°å½•è¯„åˆ†
  â”œâ”€â”€ autoIndex++
  â”œâ”€â”€ åˆ‡æ¢åŠ¨ä½œ
  â””â”€â”€ æ›´æ–°å¡ç‰‡é«˜äº®
  â†“
[å¾ªç¯ç›´åˆ°å®Œæˆæ‰€æœ‰åŠ¨ä½œ]
  â†“
calculateFinalScore()
  â”œâ”€â”€ è´¨é‡åˆ† (85%)
  â””â”€â”€ é€Ÿåº¦åˆ† (15%)
  â†“
æ˜¾ç¤ºå®Œæˆå¼¹çª—
  â†“
ç”¨æˆ·é€‰æ‹©ï¼š
  â”œâ”€â”€ One more time â†’ é‡æ–°å¼€å§‹ Play
  â””â”€â”€ Leave â†’ è·³è½¬åˆ°ä¸»é¡µ
```

### 7.3 LocalStorage æ•°æ®æŒä¹…åŒ–

```javascript
// å­˜å‚¨çš„æ•°æ®
{
  'welcomeSeen': 'true',           // æ˜¯å¦çœ‹è¿‡æ¬¢è¿å¼¹çª—
  'guidesCompleted': 'true',       // æ˜¯å¦å®Œæˆå¼•å¯¼
  'voiceEnabled': 'true',          // è¯­éŸ³å¼€å…³çŠ¶æ€
  'autoStartCamera': 'true'        // æ˜¯å¦è‡ªåŠ¨å¯åŠ¨æ‘„åƒå¤´ï¼ˆå·²åºŸå¼ƒï¼‰
}
```

---

## 8. éƒ¨ç½²æ¶æ„ {#éƒ¨ç½²æ¶æ„}

### 8.1 éƒ¨ç½²æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æœ¬åœ°å¼€å‘       â”‚
â”‚  localhost:8080 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Git æäº¤       â”‚
â”‚  git commit     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ¨é€åˆ° GitHub  â”‚
â”‚  git push       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Railway ç›‘å¬   â”‚
â”‚  Webhook è§¦å‘   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ„å»ºé•œåƒ       â”‚
â”‚  npm install    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¯åŠ¨åº”ç”¨       â”‚
â”‚  npm start      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  éƒ¨ç½²æˆåŠŸ       â”‚
â”‚  ç”ŸæˆåŸŸå       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 Railway é…ç½®

#### 8.2.1 railway.json

```json
{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "NIXPACKS"
  },
  "deploy": {
    "startCommand": "npm start",
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10
  }
}
```

#### 8.2.2 Procfile

```
web: npx --yes serve . -l ${PORT:-8080} --no-clipboard
```

#### 8.2.3 package.json

```json
{
  "name": "pose-demo",
  "version": "1.0.0",
  "description": "Move a Little Game",
  "scripts": {
    "start": "npx serve . -l ${PORT:-8080} --no-clipboard"
  },
  "engines": {
    "node": ">=18.0.0"
  },
  "dependencies": {
    "serve": "^14.2.0"
  }
}
```

### 8.3 ç¯å¢ƒå˜é‡

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `PORT` | æœåŠ¡ç«¯å£ | 8080 |
| `NODE_ENV` | ç¯å¢ƒ | production |

### 8.4 åŸŸåé…ç½®

#### é»˜è®¤åŸŸå
```
https://epic7-production.up.railway.app
```

#### è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰
```
1. Railway Dashboard â†’ Settings â†’ Domains
2. æ·»åŠ è‡ªå®šä¹‰åŸŸå
3. é…ç½® DNS CNAME è®°å½•
4. ç­‰å¾… SSL è¯ä¹¦è‡ªåŠ¨ç­¾å‘
```

### 8.5 CDN åŠ é€Ÿ

Railway è‡ªåŠ¨æä¾›å…¨çƒ CDN åŠ é€Ÿï¼š
- é™æ€èµ„æºè‡ªåŠ¨ç¼“å­˜
- HTTPS è‡ªåŠ¨å¯ç”¨
- Gzip å‹ç¼©
- HTTP/2 æ”¯æŒ

---

## 9. å®‰å…¨æ€§è®¾è®¡ {#å®‰å…¨æ€§è®¾è®¡}

### 9.1 éšç§ä¿æŠ¤

#### 9.1.1 æœ¬åœ°å¤„ç†
```
âœ… æ‰€æœ‰å§¿æ€æ£€æµ‹åœ¨æµè§ˆå™¨æœ¬åœ°å®Œæˆ
âœ… è§†é¢‘æµä¸ä¸Šä¼ æœåŠ¡å™¨
âœ… æ— ç”¨æˆ·æ•°æ®æ”¶é›†
âœ… æ—  Cookie è¿½è¸ª
```

#### 9.1.2 æ‘„åƒå¤´æƒé™

```javascript
// æ˜¾å¼è¯·æ±‚æƒé™
navigator.mediaDevices.getUserMedia({
  video: {
    width: { ideal: 1920 },
    height: { ideal: 1080 },
    facingMode: 'user'
  }
})
.then(stream => {
  // æƒé™å·²æˆäºˆ
})
.catch(err => {
  // æƒé™è¢«æ‹’ç»
  alert('Camera access denied');
});
```

### 9.2 å†…å®¹å®‰å…¨ç­–ç•¥ (CSP)

```html
<meta http-equiv="Content-Security-Policy" content="
  default-src 'self';
  script-src 'self' https://cdn.jsdelivr.net;
  style-src 'self' 'unsafe-inline';
  img-src 'self' data:;
  media-src 'self' blob:;
  connect-src 'self' https://storage.googleapis.com;
  worker-src 'self' blob:;
">
```

### 9.3 HTTPS å¼ºåˆ¶

```javascript
// æ£€æµ‹æ˜¯å¦ä¸º HTTPS
if (location.protocol !== 'https:' && location.hostname !== 'localhost') {
  alert('This app requires HTTPS for camera access');
}
```

### 9.4 XSS é˜²æŠ¤

```javascript
// æ‰€æœ‰ç”¨æˆ·è¾“å…¥éƒ½ç»è¿‡è½¬ä¹‰
function escapeHtml(text) {
  const map = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    "'": '&#039;'
  };
  return text.replace(/[&<>"']/g, m => map[m]);
}
```

---

## 10. æ€§èƒ½ä¼˜åŒ– {#æ€§èƒ½ä¼˜åŒ–}

### 10.1 æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–

#### 10.1.1 High DPI æ¸²æŸ“

```javascript
// æ”¯æŒé«˜åˆ†è¾¨ç‡å±å¹•
const dpr = window.devicePixelRatio || 1;
canvas.width = canvas.offsetWidth * dpr;
canvas.height = canvas.offsetHeight * dpr;
ctx.scale(dpr, dpr);
```

#### 10.1.2 requestAnimationFrame

```javascript
// ä½¿ç”¨ RAF ä¼˜åŒ–åŠ¨ç”»
function loop() {
  if (!training) return;
  
  // æ£€æµ‹å§¿æ€
  detectPose();
  
  // ä¸‹ä¸€å¸§
  rafId = requestAnimationFrame(loop);
}
```

#### 10.1.3 Canvas ä¼˜åŒ–

```javascript
// ä½¿ç”¨ç¦»å± Canvas
const offscreenCanvas = document.createElement('canvas');
const offscreenCtx = offscreenCanvas.getContext('2d', {
  alpha: false,
  desynchronized: true
});
```

### 10.2 å†…å­˜ä¼˜åŒ–

#### 10.2.1 å¯¹è±¡æ± 

```javascript
// å¤ç”¨éª¨éª¼ç‚¹æ•°ç»„
const landmarkPool = new Array(33).fill(null).map(() => ({
  x: 0, y: 0, z: 0
}));
```

#### 10.2.2 åŠæ—¶é‡Šæ”¾

```javascript
function cleanup() {
  // åœæ­¢è§†é¢‘æµ
  if (stream) {
    stream.getTracks().forEach(track => track.stop());
    stream = null;
  }
  
  // å–æ¶ˆåŠ¨ç”»å¸§
  if (rafId) {
    cancelAnimationFrame(rafId);
    rafId = null;
  }
  
  // æ¸…ç©ºå¼•ç”¨
  poseLandmarker = null;
  landmarks = null;
}
```

### 10.3 ç½‘ç»œä¼˜åŒ–

#### 10.3.1 CDN åŠ é€Ÿ

```html
<!-- MediaPipe ä½¿ç”¨ jsDelivr CDN -->
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.0/vision_bundle.js"></script>
```

#### 10.3.2 èµ„æºé¢„åŠ è½½

```html
<link rel="preconnect" href="https://cdn.jsdelivr.net">
<link rel="preconnect" href="https://storage.googleapis.com">
```

#### 10.3.3 å›¾ç‰‡ä¼˜åŒ–

```
- ä½¿ç”¨ PNG æ ¼å¼ï¼ˆé€æ˜èƒŒæ™¯ï¼‰
- å‹ç¼©å›¾ç‰‡å¤§å°
- æ‡’åŠ è½½éå…³é”®å›¾ç‰‡
```

### 10.4 è®¡ç®—ä¼˜åŒ–

#### 10.4.1 èŠ‚æµ

```javascript
// é™åˆ¶ Fit æ›´æ–°é¢‘ç‡
if (now - lastOverlayUpdateMs < 100) return;
```

#### 10.4.2 é˜²æŠ–

```javascript
// æ‰‹åŠ¿æ§åˆ¶é˜²æŠ–
if (gestureHoldMs >= 1000) {
  // æ‰§è¡Œåˆ‡æ¢
  gestureHoldMs = 0;
}
```

---

## 11. æµ‹è¯•ç­–ç•¥ {#æµ‹è¯•ç­–ç•¥}

### 11.1 åŠŸèƒ½æµ‹è¯•

#### 11.1.1 å§¿æ€æ£€æµ‹æµ‹è¯•

```
æµ‹è¯•ç”¨ä¾‹ 1: æ­£å¸¸å…‰ç…§æ¡ä»¶
  - é¢„æœŸï¼šéª¨éª¼ç‚¹å‡†ç¡®æ£€æµ‹
  - ç»“æœï¼šâœ… é€šè¿‡

æµ‹è¯•ç”¨ä¾‹ 2: ä½å…‰ç…§æ¡ä»¶
  - é¢„æœŸï¼šæ£€æµ‹ç²¾åº¦ä¸‹é™ï¼Œä½†ä»å¯ç”¨
  - ç»“æœï¼šâœ… é€šè¿‡

æµ‹è¯•ç”¨ä¾‹ 3: å¤šäººå…¥é•œ
  - é¢„æœŸï¼šåªæ£€æµ‹æœ€é è¿‘çš„äºº
  - ç»“æœï¼šâœ… é€šè¿‡
```

#### 11.1.2 åŠ¨ä½œè¯„ä¼°æµ‹è¯•

```
æµ‹è¯•ç”¨ä¾‹ 1: Overhead Reach
  - è¾“å…¥ï¼šæ‰‹è‡‚å®Œå…¨ä¼¸ç›´è¿‡å¤´é¡¶
  - é¢„æœŸï¼šFit â‰¥ 90%
  - ç»“æœï¼šâœ… é€šè¿‡

æµ‹è¯•ç”¨ä¾‹ 2: T Pose
  - è¾“å…¥ï¼šæ‰‹è‡‚æ°´å¹³ä¼¸å±•
  - é¢„æœŸï¼šFit â‰¥ 90%
  - ç»“æœï¼šâœ… é€šè¿‡

æµ‹è¯•ç”¨ä¾‹ 3: High Knee Hold
  - è¾“å…¥ï¼šå•è…¿æŠ¬èµ·è‡³æ°´å¹³
  - é¢„æœŸï¼šFit â‰¥ 90%
  - ç»“æœï¼šâœ… é€šè¿‡
```

### 11.2 æ€§èƒ½æµ‹è¯•

#### 11.2.1 å¸§ç‡æµ‹è¯•

```
ç›®æ ‡ï¼šâ‰¥ 30 FPS
å®é™…ï¼š
  - æ¡Œé¢ç«¯ï¼š45-60 FPS âœ…
  - ç§»åŠ¨ç«¯ï¼š25-35 FPS âœ…
```

#### 11.2.2 å†…å­˜æµ‹è¯•

```
ç›®æ ‡ï¼š< 200MB
å®é™…ï¼š
  - åˆå§‹åŠ è½½ï¼š80MB âœ…
  - è¿è¡Œ 10 åˆ†é’Ÿï¼š120MB âœ…
  - æ— å†…å­˜æ³„æ¼ âœ…
```

### 11.3 å…¼å®¹æ€§æµ‹è¯•

#### 11.3.1 æµè§ˆå™¨å…¼å®¹æ€§

| æµè§ˆå™¨ | ç‰ˆæœ¬ | çŠ¶æ€ |
|--------|------|------|
| Chrome | â‰¥ 90 | âœ… å®Œå…¨æ”¯æŒ |
| Edge | â‰¥ 90 | âœ… å®Œå…¨æ”¯æŒ |
| Safari | â‰¥ 14 | âœ… å®Œå…¨æ”¯æŒ |
| Firefox | â‰¥ 88 | âœ… å®Œå…¨æ”¯æŒ |

#### 11.3.2 è®¾å¤‡å…¼å®¹æ€§

| è®¾å¤‡ | åˆ†è¾¨ç‡ | çŠ¶æ€ |
|------|--------|------|
| Desktop | 1920x1080 | âœ… æœ€ä½³ |
| Laptop | 1366x768 | âœ… è‰¯å¥½ |
| Tablet | 1024x768 | âœ… è‰¯å¥½ |
| Mobile | 375x667 | âš ï¸ åŸºæœ¬å¯ç”¨ |

### 11.4 ç”¨æˆ·éªŒæ”¶æµ‹è¯• (UAT)

```
åœºæ™¯ 1: é¦–æ¬¡ä½¿ç”¨
  âœ… å¼•å¯¼ç³»ç»Ÿæ¸…æ™°æ˜“æ‡‚
  âœ… æ‘„åƒå¤´æƒé™ç”³è¯·æµç•…
  âœ… ç”¨æˆ·èƒ½å¿«é€Ÿä¸Šæ‰‹

åœºæ™¯ 2: Practice æ¨¡å¼
  âœ… åŠ¨ä½œåˆ‡æ¢å“åº”å¿«
  âœ… æ‰‹åŠ¿æ§åˆ¶å‡†ç¡®
  âœ… åé¦ˆåŠæ—¶æ¸…æ™°

åœºæ™¯ 3: Play æ¨¡å¼
  âœ… è§„åˆ™è¯´æ˜æ¸…æ¥š
  âœ… è¯„åˆ†åˆç†
  âœ… å®Œæˆæ„Ÿæ»¡è¶³
```

---

## 12. æœªæ¥æ‰©å±• {#æœªæ¥æ‰©å±•}

### 12.1 åŠŸèƒ½æ‰©å±•

#### 12.1.1 æ›´å¤šåŠ¨ä½œ

```
è®¡åˆ’æ·»åŠ ï¼š
  - Squat (æ·±è¹²)
  - Lunge (å¼“æ­¥)
  - Plank (å¹³æ¿æ”¯æ’‘)
  - Push-up (ä¿¯å§æ’‘)
  - Jumping Jack (å¼€åˆè·³)
```

#### 12.1.2 ç¤¾äº¤åŠŸèƒ½

```
- æ’è¡Œæ¦œ
- å¥½å‹æŒ‘æˆ˜
- åˆ†äº«æˆç»©åˆ°ç¤¾äº¤åª’ä½“
- å¤šäººå¯¹æˆ˜æ¨¡å¼
```

#### 12.1.3 ä¸ªæ€§åŒ–

```
- è‡ªå®šä¹‰è®­ç»ƒè®¡åˆ’
- éš¾åº¦è°ƒèŠ‚
- æ—¶é•¿è°ƒèŠ‚
- éŸ³ä¹é€‰æ‹©
```

### 12.2 æŠ€æœ¯å‡çº§

#### 12.2.1 AI ä¼˜åŒ–

```
- ä½¿ç”¨æ›´ç²¾ç¡®çš„å§¿æ€æ¨¡å‹
- è‡ªå®šä¹‰è®­ç»ƒæ¨¡å‹
- åŠ¨ä½œè´¨é‡è¯„åˆ†ç»†åŒ–
- è¿åŠ¨è½¨è¿¹åˆ†æ
```

#### 12.2.2 AR é›†æˆ

```
- AR å åŠ å±‚
- è™šæ‹Ÿæ•™ç»ƒ
- 3D åŠ¨ä½œç¤ºèŒƒ
```

#### 12.2.3 å¥åº·æ•°æ®é›†æˆ

```
- å¡è·¯é‡Œæ¶ˆè€—ä¼°ç®—
- è¿åŠ¨æ—¶é•¿ç»Ÿè®¡
- å¥åº·å»ºè®®
- ä¸ Apple Health / Google Fit é›†æˆ
```

### 12.3 å¹³å°æ‰©å±•

#### 12.3.1 ç§»åŠ¨ç«¯ä¼˜åŒ–

```
- PWA (Progressive Web App)
- åŸç”Ÿ App (React Native)
- ç¦»çº¿æ¨¡å¼
- é€šçŸ¥æ¨é€
```

#### 12.3.2 æ™ºèƒ½è®¾å¤‡

```
- æ™ºèƒ½ç”µè§†åº”ç”¨
- VR å¤´æ˜¾é€‚é…
- ä½“æ„Ÿè®¾å¤‡é›†æˆ
```

---

## é™„å½• A: API æ–‡æ¡£

### MediaPipe Pose Landmarker

**åˆå§‹åŒ–ï¼š**
```javascript
PoseLandmarker.createFromOptions(vision, {
  baseOptions: {
    modelAssetPath: string,
    delegate: 'CPU' | 'GPU'
  },
  runningMode: 'IMAGE' | 'VIDEO',
  numPoses: number
})
```

**æ£€æµ‹ï¼š**
```javascript
poseLandmarker.detectForVideo(videoElement, timestamp)
// è¿”å›ï¼š{ landmarks: Array<33>, worldLandmarks: Array<33> }
```

---

## é™„å½• B: éƒ¨ç½²æ£€æŸ¥æ¸…å•

- [ ] ä»£ç å·²æäº¤åˆ° Git
- [ ] package.json é…ç½®æ­£ç¡®
- [ ] Procfile å­˜åœ¨ä¸”æ­£ç¡®
- [ ] railway.json é…ç½®å®Œæ•´
- [ ] æœ¬åœ°æµ‹è¯•é€šè¿‡
- [ ] æ¨é€åˆ° GitHub
- [ ] Railway éƒ¨ç½²æˆåŠŸ
- [ ] HTTPS è¯ä¹¦å·²ç­¾å‘
- [ ] æ‘„åƒå¤´æƒé™æ­£å¸¸
- [ ] æ‰€æœ‰åŠ¨ä½œæµ‹è¯•é€šè¿‡
- [ ] æ€§èƒ½ç¬¦åˆé¢„æœŸ
- [ ] ç”¨æˆ·éªŒæ”¶æµ‹è¯•é€šè¿‡

---

## é™„å½• C: æ•…éšœæ’æŸ¥æŒ‡å—

### é—®é¢˜ 1: æ‘„åƒå¤´æ— æ³•æ‰“å¼€
```
å¯èƒ½åŸå› ï¼š
  - æƒé™è¢«æ‹’ç»
  - HTTPS æœªå¯ç”¨
  - è®¾å¤‡è¢«å ç”¨

è§£å†³æ–¹æ¡ˆï¼š
  1. æ£€æŸ¥æµè§ˆå™¨æƒé™è®¾ç½®
  2. ç¡®è®¤ä½¿ç”¨ HTTPS æˆ– localhost
  3. å…³é—­å…¶ä»–ä½¿ç”¨æ‘„åƒå¤´çš„åº”ç”¨
```

### é—®é¢˜ 2: å§¿æ€æ£€æµ‹ä¸å‡†ç¡®
```
å¯èƒ½åŸå› ï¼š
  - å…‰ç…§ä¸è¶³
  - è·ç¦»æ‘„åƒå¤´è¿‡è¿œ/è¿‡è¿‘
  - èƒŒæ™¯å¤æ‚

è§£å†³æ–¹æ¡ˆï¼š
  1. æ”¹å–„å…‰ç…§æ¡ä»¶
  2. è°ƒæ•´ä¸æ‘„åƒå¤´çš„è·ç¦» (1-2ç±³)
  3. é€‰æ‹©ç®€æ´èƒŒæ™¯
```

### é—®é¢˜ 3: å¸§ç‡è¿‡ä½
```
å¯èƒ½åŸå› ï¼š
  - è®¾å¤‡æ€§èƒ½ä¸è¶³
  - æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜
  - å†…å­˜ä¸è¶³

è§£å†³æ–¹æ¡ˆï¼š
  1. é™ä½è§†é¢‘åˆ†è¾¨ç‡
  2. æ›´æ¢æµè§ˆå™¨
  3. å…³é—­å…¶ä»–æ ‡ç­¾é¡µ
```

---

## æ–‡æ¡£å˜æ›´è®°å½•

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´å†…å®¹ | ä½œè€… |
|------|------|----------|------|
| v1.0 | 2025-10-13 | åˆå§‹ç‰ˆæœ¬ï¼Œå®Œæ•´è®¾è®¡æ–‡æ¡£ | Development Team |

---

**æ–‡æ¡£ç»“æŸ**

